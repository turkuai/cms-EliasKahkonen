<!DOCTYPE html>
<html>
    <head>
        <title>Admin Pääsivu</title>
        <link rel="stylesheet" href="index.css">

<script>

     let editHeadingMode = false
        
    function handleHeadingEdit() {
        console.log("handleHeadingEdit", editHeadingMode)
        
        editHeadingMode = !editHeadingMode

        console.log("after change", editHeadingMode)

        const headingElement = document.getElementById("title")
        const inputElement = document.getElementById("titleInput")

        headingElement.hidden = editHeadingMode
        inputElement.hidden = !editHeadingMode

        if (!editHeadingMode) {
           const title = inputElement.value
           headingElement.innerHTML = title
           localStorage.setItem("title", title)

        }

        document.getElementById("titleButton").innerHTML = editHeadingMode ? "Save" : "Edit"

    }    
    
    const savedLinks = localStorage.getItem("links-list")

    let linksList = savedLinks ? JSON.parse(savedLinks) : []

    function handleLoad() {
    const title = localStorage.getItem("title");
    document.getElementById("title").innerHTML = title;
    document.getElementById("titleInput").value = title;

    const savedLogo = localStorage.getItem("logo-url");
    if (savedLogo) {
        document.getElementById("kuva1").src = savedLogo;
        document.getElementById("logoInput").value = savedLogo;
    }

    renderLinks();
}



    addEventListener("load", handleLoad)
    

    function handleAddLink(e) {
    const button = e.target;
    const isAdding = button.innerHTML === "+";

    const refInput = document.getElementById("linkRef");
    const nameInput = document.getElementById("linkName");

    if (isAdding) {
        refInput.hidden = false;
        nameInput.hidden = false;
        button.innerHTML = "Save";
    } else {
        const newLink = {
            href: refInput.value,
            name: nameInput.value
        };

        if (newLink.name && newLink.href) {
            linksList.push(newLink);
            localStorage.setItem("links-list", JSON.stringify(linksList));
            refInput.value = "";
            nameInput.value = "";
            refInput.hidden = true;
            nameInput.hidden = true;
            button.innerHTML = "+";
            renderLinks();
        }
    }
}


function handleEditLink(index) {
    const link = linksList[index];
    const newHref = prompt("Enter new URL:", link.href);
    const newName = prompt("Enter new name:", link.name);

    if (newHref && newName) {
        linksList[index] = { href: newHref, name: newName };
        localStorage.setItem("links-list", JSON.stringify(linksList));
        renderLinks();
    }
}

function handleDeleteLink(index) {
    if (confirm("Are you sure you want to delete this link?")) {
        linksList.splice(index, 1);
        localStorage.setItem("links-list", JSON.stringify(linksList));
        renderLinks();
    }
}



function renderLinks() {
    const listElement = document.getElementById("link-list");
    listElement.innerHTML = ""; // Clear current links

    linksList.forEach((link, index) => {
        const container = document.createElement("div");
        container.className = "link-item";

        // Create name input
        const nameInput = document.createElement("input");
        nameInput.type = "text";
        nameInput.value = link.name;
        nameInput.disabled = true;

        // Create href input
        const hrefInput = document.createElement("input");
        hrefInput.type = "text";
        hrefInput.value = link.href;
        hrefInput.disabled = true;

        // Edit button
        const editBtn = document.createElement("button");
        editBtn.innerHTML = "Edit";
        editBtn.onclick = () => {
            const editing = editBtn.innerHTML === "Save";
            if (editing) {
                // Save
                linksList[index].name = nameInput.value;
                linksList[index].href = hrefInput.value;
                localStorage.setItem("links-list", JSON.stringify(linksList));
                nameInput.disabled = true;
                hrefInput.disabled = true;
                editBtn.innerHTML = "Edit";
            } else {
                // Enable editing
                nameInput.disabled = false;
                hrefInput.disabled = false;
                editBtn.innerHTML = "Save";
            }
        };

        // Delete button
        const deleteBtn = document.createElement("button");
        deleteBtn.innerHTML = "Delete";
        deleteBtn.onclick = () => {
            linksList.splice(index, 1);
            localStorage.setItem("links-list", JSON.stringify(linksList));
            renderLinks();
        };

        container.appendChild(nameInput);
        container.appendChild(hrefInput);
        container.appendChild(editBtn);
        container.appendChild(deleteBtn);

        listElement.appendChild(container);
    });
}



    let editLogoMode = false;

function handleLogoEdit() {
    console.log("handleLogoEdit", editLogoMode);
    
    editLogoMode = !editLogoMode;
    
    const imgElement = document.getElementById("kuva1");
    const inputElement = document.getElementById("logoInput");
    const button = document.getElementById("logoBtn");

    imgElement.hidden = editLogoMode;
    inputElement.hidden = !editLogoMode;

    if (!editLogoMode) {
        const newUrl = inputElement.value;
        imgElement.src = newUrl;
        localStorage.setItem("logo-url", newUrl);
    }

    button.innerHTML = editLogoMode ? "Save" : "Edit";
}

    </script>
    </head>
    <body>
        <div class="ylapalkki">
            <img src="https://download.logo.wine/logo/Porsche/Porsche-Logo.wine.png" width="210px" height="140px" id="kuva1">
            <input id="logoInput" type="text" placeholder="Image URL" hidden>
            <button id="logoBtn" onclick="handleLogoEdit()">Edit</button>

            <div class="linkit">
                <a href="#" id="Home">Home</a>
                <a href="#" id="About">About</a>
                <a href="#" id="Blog">Blog</a>
            </div>
        </div>
        <div class="section">
            <div class="textimage1">
                <div class="teksti">
                <h1>Admin Otsikko 1</h1>
                <p>Lorem ipsum dolor sit amet. Aut blanditiis eaque eum dignissimos dicta aut architecto expedita ut praesentium assumenda est sint adipisci.
                Aut aperiam iste ut sunt libero ea culpa veritatis rem architecto dolores quo explicabo eligendi est deleniti consectetur et aliquam consectetur.
                33 eius nulla sit incidunt praesentium non omnis voluptatem ut maiores alias. Et optio accusantium a saepe suscipit sit excepturi porro a error quam et libero accusantium.
                Lorem ipsum dolor sit amet. Aut blanditiis eaque eum dignissimos dicta aut architecto expedita ut praesentium assumenda est sint adipisci.
                Aut aperiam iste ut sunt libero ea culpa veritatis rem architecto dolores quo explicabo eligendi est deleniti consectetur et aliquam consectetur.
                33 eius nulla sit incidunt praesentium non omnis voluptatem ut maiores alias. Et optio accusantium a saepe suscipit sit excepturi porro a error quam et libero accusantium.</p>
                </div>
            <img src="https://content-hub.imgix.net/7pAtSAhW9FPTslxOpVVd93/332be8b3784aa2516a5d43e3b2da28a3/six-20things-20you-20need-20to-20know-20about-20the-20porsche-20997-206.jpg?w=1308" id="kuva2" width="450px" height="300px">
            </div>
            <div class="textimage1">
                <div class="teksti">
                <h1>Admin Otsikko 2</h1>
                <p>Lorem ipsum dolor sit amet. Aut blanditiis eaque eum dignissimos dicta aut architecto expedita ut praesentium assumenda est sint adipisci.
                Aut aperiam iste ut sunt libero ea culpa veritatis rem architecto dolores quo explicabo eligendi est deleniti consectetur et aliquam consectetur.
                33 eius nulla sit incidunt praesentium non omnis voluptatem ut maiores alias. Et optio accusantium a saepe suscipit sit excepturi porro a error quam et libero accusantium.
                Lorem ipsum dolor sit amet. Aut blanditiis eaque eum dignissimos dicta aut architecto expedita ut praesentium assumenda est sint adipisci.
                Aut aperiam iste ut sunt libero ea culpa veritatis rem architecto dolores quo explicabo eligendi est deleniti consectetur et aliquam consectetur.
                33 eius nulla sit incidunt praesentium non omnis voluptatem ut maiores alias. Et optio accusantium a saepe suscipit sit excepturi porro a error quam et libero accusantium.</p>
                </div>
            <img src="https://images-porsche.imgix.net/-/media/E6F1452793D246FEAE326E1B2779C681_5FEF67AE27D845F487A5AC2202D1137B_020-info-slider-2-1-997-911-gt2-2008-2009?w=1299&q=85&auto=format" id="kuva2" width="450px" height="300px">
            </div>
        </div>
        <div class="footer">
            <div class="column1">
                <h1 id="title"></h1>
                <input id="titleInput" hidden>
                <button id="titleButton" onclick="handleHeadingEdit()">Edit</button>
                <p>Lorem ipsum dolor sit amet. Eum doloremque dolor quo totam dicta sed voluptatem rerum
                    ut isteaccusantium autlaudantium adipisci aut debitis harum eos quae quae.
                    Et veritatis provident eum perferendis quis cum dolorum quaerat ut molestias obcaecati sed quia labore!</p>
                <p>@ 2024, Companys name, All rights reserved</p>    
            </div>
            <div class="column2"> 
                <div class="footer-linkit">
                    <a href="#" id="Home">Home</a>
                    <a href="#" id="About">About</a>
                    <a href="#" id="Blog">Blog</a>
                </div> 
            </div>
            <div id="link-list"></div>
            <div id="new-link-form">
            <input type="text" id="linkName" placeholder="Link text" hidden />
            <input type="text" id="linkRef" placeholder="Link URL" hidden />
            <button onclick="handleAddLink(event)">+</button>
</div>

            </div>
        </div>
    </body>
</html>